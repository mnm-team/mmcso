######################################################################
# Example configuration file for the GNU Compilers
#
# Defines: "model" => "mpi", "acc", "omp", "tgt", "tgtgpu"  default "mpi"
#          "label" => ext base label, default "nv"
#
# MPI-only Command:
# runhpc -c Example_gnu --reportable -T base --define model=mpi --ranks=40 small
#
# OpenACC Command:
# runhpc -c Example_gnu --reportable -T base --define model=acc --ranks=4  small
#
# OpenMP Command:
# runhpc -c Example_gnu --reportable -T base --define model=omp --ranks=1 --threads=40 small
#
# OpenMP Target Offload to Host Command:
# runhpc -c Example_gnu --reportable -T base --define model=tgt --ranks=1 --threads=40 small
#
# OpenMP Target Offload to NVIDIA GPU Command:
# runhpc -c Example_gnu --reportable -T base --define model=tgtnv --ranks=4  small
#
#######################################################################

%ifndef %{label}         # IF label is not set use gnu 
%   define label gnu    
%endif              

%ifndef %{model}         # IF model is not set use mpi
%   define model omp 
%endif              

teeout = yes
makeflags=-j 40

# Tester Information 
license_num     = 9999
test_sponsor    = Sponsor Name
tester          = Testing Company Name

######################################################
# SUT Section
######################################################
include: Example_SUT.inc

#[Software]
sw_compiler000   = C/C++/Fortran: Version 10.2 of
sw_compiler001   = GNU Compilers
sw_mpi_library = OpenMPI Version 3.1.5
sw_mpi_other = None
sw_other = None

#[General notes]
notes_000 = Environment Settings:
notes_005 =  Any extra settings

#[Submit Notes]
notes_submit_000 =    mpirun -np $ranks $command


#######################################################################
# End of SUT section
######################################################################

######################################################################
# The header section of the config file.  Must appear
# before any instances of "section markers" (see below)
#
# ext = how the binaries you generated will be identified
# tune = specify "base" or "peak" or "all"
label         = %{label}_%{model}
tune          = base
output_format = text
use_submit_for_speed = 1

# Compiler Settings
default:
CC           = mpicc
CXX          = mpicxx
FC           = mpif90
# Compiler Version Flags
CC_VERSION_OPTION  = --version
CXX_VERSION_OPTION = --version
FC_VERSION_OPTION  = --version

# MPI options and binding environment, dependent upon Model being run
# Adjust to match your system

# OpenMP (CPU) Settings
%if %{model} eq 'omp' 
preENV_OMP_PROC_BIND=true
preENV_OMP_PLACES=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39
%endif

#OpenMP Targeting Host Settings
%if %{model} eq 'tgt' 
preENV_OMP_PROC_BIND=true
preENV_OMP_PLACES=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39
%endif

MPIRUN_OPTS = --bind-to none -q
submit = mpirun ${MPIRUN_OPTS} -np $ranks $command

#######################################################################
# Optimization

# Note that SPEC baseline rules require that all uses of a given compiler 
# use the same flags in the same order. See the SPEChpc Run Rules
# for more details 
#      http://www.spec.org/hpc2021/Docs/runrules.html
#
# OPTIMIZE    = flags applicable to all compilers
# FOPTIMIZE   = flags appliable to the Fortran compiler
# COPTIMIZE   = flags appliable to the C compiler
# CXXOPTIMIZE = flags appliable to the C++ compiler
# 
# See your compiler manual for information on the flags available
# for your compiler

# Compiler flags applied to all models
default=base=default:
COPTIMIZE     = -Ofast -march=native        # use -mcpu=native for ARM
CXXOPTIMIZE   = -Ofast -march=native -std=c++14
FOPTIMIZE     = -Ofast -march=native -fno-stack-protector
FPORTABILITY  = -ffree-line-length-none

%if %{model} eq 'mpi'
  pmodel=MPI
%endif

# OpenACC flags
%if %{model} eq 'acc'
  pmodel=ACC
  OPTIMIZE += -fopenacc -foffload=-lm  
%endif

# OpenMP (CPU) flags
%if %{model} eq 'omp' 
  pmodel=OMP
  OPTIMIZE += -fopenmp 
%endif

# OpenMP (CPU) flags
%if %{model} eq 'offloading' 
  pmodel=OMP-OFFLOADING
  OPTIMIZE += -fopenmp
%endif

# OpenMP Targeting host flags
%if %{model} eq 'tgt' 
  pmodel=TGT
  OPTIMIZE += -fopenmp 
%endif

# OpenMP Targeting Nvidia GPU flags
%if %{model} eq 'tgtnv'
  pmodel=TGT 
  OPTIMIZE += -fopenmp -fopenmp-targets=nvptx64-nvidia-cuda 
%endif

# No peak flags set, so make peak use the same flags as base 
default=peak=default:
basepeak=1

#######################################################################
# Portability
#######################################################################

__HASH__
534.hpgmgfv_t=base=funneled_omp:
# Last updated 2025-04-15 22:43:16
opthash=35feea8934459169637a2d93abbba6d7e26581bf9582901bb007df8821581c3b
baggage=
compiler_version=\
@eNotjMFqwzAQRO/6ijmmUETi3pqTKuxWkFpGUgo9BaPIti5SkZWW/H3XpbAw7GPeQMrLR2us0v1F\
D47imc3eY/cq5QMODX/ieybz173EeanYEWz2TYOuhACbp/ozloAu39J1rDGnR6jkOXNLXEE3bbX1\
v3bESl9dNnIrPmDKBZ62Y5op0zVuCysH3BJolfxeMzLLmOr9iJQrwndIf957a+Sb6J14USflPkGo\
U65vrUWnDQQGYZyS55MwGM5m0Lbl7Bf92Es9
compile_options=\
@eNrdklFvgjAQx9/5FA3vGN2MD0RMaEGsFkoEHtxL4xhkbEIJoMm+/Q5BpnFLluxtpAm9X+8u1/+/\
niy0fP+epNkhQbJsMlnUulI3VRY3ojoWL1klTkmVpR+GOlEV2NaQAvvReAyxQrjr60jNyyyOkQZL\
XrqMJNKswLcJ/DzLxpGDNFqXSQy5TZYngKPAFpgSJwhNbEx6EEQYmrpDvCQ7wuxgiJ1g2yVjxsmG\
cH8nQspsQY3Hh3u6Nqb3cGNMZi3lkWeZ26F+Nr2D6+8y+/J2GNenMAvSUlkmRV4ijaf7ukEgaRW/\
GsW+yU5w0UOOhq/TRHDf9lz/Aue1PFZxslAVoiNCjE7PLuJ4zf3QUG/EVRVQnfjRkplOAGe3Qp9P\
se2Rlbgk/E/lVYXrCNShLn2y4Za9DWdMrvgPrqgKo95meL6dP7+2ci6f35K4qRdt1RX/cgmhs4XM\
Ggz947jQzDXDlWAUt6b2iFk8ah/I1ev4BPy/GOE=
exehash=4febcd12178667404ca0f1150356fd0128107943ff9fc2fba984e7db66b6ed53

634.hpgmgfv_s=base=funneled_omp:
# Last updated 2025-04-16 11:26:18
opthash=ce1d7cb1e2193d80e3115e3a7476dd6f949b2e24382ee92fea53d8d4e81cef2c
baggage=
compiler_version=\
@eNotjMFqwzAQRO/6ijmmUETi3pqTKuxWkFpGUgo9BaPIti5SkZWW/H3XpbAw7GPeQMrLR2us0v1F\
D47imc3eY/cq5QMODX/ieybz173EeanYEWz2TYOuhACbp/ozloAu39J1rDGnR6jkOXNLXEE3bbX1\
v3bESl9dNnIrPmDKBZ62Y5op0zVuCysH3BJolfxeMzLLmOr9iJQrwndIf957a+Sb6J14USflPkGo\
U65vrUWnDQQGYZyS55MwGM5m0Lbl7Bf92Es9
compile_options=\
@eNrdUt9vgjAQfuevaHjH6GZ8INaElopVoI3Ag3tpHCsZm/wIoMn++xVBpnFLluxtTZPefb273H3f\
+UVuZPt3maQHCYqySYu8NrW6qdK4EdUxf0krcZJVmnxAfaJryqxViLJH47HyNcw8bgI9K9M4Boa6\
xaXKqACGHXCC1ePbBEWOMqKACESxE4QWgpMeCCKkyniDv8Q77JJg8J1g2wUjl+ENZnwnQuoSQeHj\
wz26htN7cAMnsxZlkW9b2yF/Nr0D199F9ultMx6nbS+0LmWspm7STAJgJEUp86wEBkv2dQMUpVX8\
CvN9k54kMA4ZGE7HiWCc+B6/gPO6OFaxXOgaNgHGsOOz8xhaMx5C/YZcXVOsYx4tXcsJ1N8t0edf\
RHy8EkPAv2Re15gJFDvUo09ETdnLcIbxFf6DKrrmUn8zrG+nz6+lnBfPbzJu6kWbdYV/qQTAWULX\
HgT9Y7uqmGeFK+FS1IraQ67NonZBrrbjE9DtGOE=
exehash=4febcd12178667404ca0f1150356fd0128107943ff9fc2fba984e7db66b6ed53

834.hpgmgfv_l=base=funneled_omp:
# Last updated 2025-04-16 11:26:18
opthash=35feea8934459169637a2d93abbba6d7e26581bf9582901bb007df8821581c3b
baggage=
compiler_version=\
@eNotjMFqwzAQRO/6ijmmUETi3pqTKuxWkFpGUgo9BaPIti5SkZWW/H3XpbAw7GPeQMrLR2us0v1F\
D47imc3eY/cq5QMODX/ieybz173EeanYEWz2TYOuhACbp/ozloAu39J1rDGnR6jkOXNLXEE3bbX1\
v3bESl9dNnIrPmDKBZ62Y5op0zVuCysH3BJolfxeMzLLmOr9iJQrwndIf957a+Sb6J14USflPkGo\
U65vrUWnDQQGYZyS55MwGM5m0Lbl7Bf92Es9
compile_options=\
@eNrdklFvgjAQx9/5FA3vGN2MD0RMaEGsFkoEHtxL4xhkbEIJoMm+/Q5BpnFLluxtpAm9X+8u1/+/\
niy0fP+epNkhQbJsMlnUulI3VRY3ojoWL1klTkmVpR+GOlEV2NaQAvvReAyxQrjr60jNyyyOkQZL\
XrqMJNKswLcJ/DzLxpGDNFqXSQy5TZYngKPAFpgSJwhNbEx6EEQYmrpDvCQ7wuxgiJ1g2yVjxsmG\
cH8nQspsQY3Hh3u6Nqb3cGNMZi3lkWeZ26F+Nr2D6+8y+/J2GNenMAvSUlkmRV4ijaf7ukEgaRW/\
GsW+yU5w0UOOhq/TRHDf9lz/Aue1PFZxslAVoiNCjE7PLuJ4zf3QUG/EVRVQnfjRkplOAGe3Qp9P\
se2Rlbgk/E/lVYXrCNShLn2y4Za9DWdMrvgPrqgKo95meL6dP7+2ci6f35K4qRdt1RX/cgmhs4XM\
Ggz947jQzDXDlWAUt6b2iFk8ah/I1ev4BPy/GOE=
exehash=4febcd12178667404ca0f1150356fd0128107943ff9fc2fba984e7db66b6ed53

734.hpgmgfv_m=base=funneled_omp:
# Last updated 2025-04-16 11:26:19
opthash=35feea8934459169637a2d93abbba6d7e26581bf9582901bb007df8821581c3b
baggage=
compiler_version=\
@eNotjMFqwzAQRO/6ijmmUETi3pqTKuxWkFpGUgo9BaPIti5SkZWW/H3XpbAw7GPeQMrLR2us0v1F\
D47imc3eY/cq5QMODX/ieybz173EeanYEWz2TYOuhACbp/ozloAu39J1rDGnR6jkOXNLXEE3bbX1\
v3bESl9dNnIrPmDKBZ62Y5op0zVuCysH3BJolfxeMzLLmOr9iJQrwndIf957a+Sb6J14USflPkGo\
U65vrUWnDQQGYZyS55MwGM5m0Lbl7Bf92Es9
compile_options=\
@eNrdklFvgjAQx9/5FA3vGN2MD0RMaEGsFkoEHtxL4xhkbEIJoMm+/Q5BpnFLluxtpAm9X+8u1/+/\
niy0fP+epNkhQbJsMlnUulI3VRY3ojoWL1klTkmVpR+GOlEV2NaQAvvReAyxQrjr60jNyyyOkQZL\
XrqMJNKswLcJ/DzLxpGDNFqXSQy5TZYngKPAFpgSJwhNbEx6EEQYmrpDvCQ7wuxgiJ1g2yVjxsmG\
cH8nQspsQY3Hh3u6Nqb3cGNMZi3lkWeZ26F+Nr2D6+8y+/J2GNenMAvSUlkmRV4ijaf7ukEgaRW/\
GsW+yU5w0UOOhq/TRHDf9lz/Aue1PFZxslAVoiNCjE7PLuJ4zf3QUG/EVRVQnfjRkplOAGe3Qp9P\
se2Rlbgk/E/lVYXrCNShLn2y4Za9DWdMrvgPrqgKo95meL6dP7+2ci6f35K4qRdt1RX/cgmhs4XM\
Ggz947jQzDXDlWAUt6b2iFk8ah/I1ev4BPy/GOE=
exehash=4febcd12178667404ca0f1150356fd0128107943ff9fc2fba984e7db66b6ed53

534.hpgmgfv_t=base=sng-funneled_omp:
# Last updated 2025-08-27 10:36:52
opthash=2818b1acca82b44f54f20601d1a6e90bab4acf66034934243b24ccd04dadb08f
baggage=
compiler_version=\
@eNpTcHaOD3MNCvb094v3DwgBUlZcmcnJChqezs6aCkYGRoZ6JnoGYIaBpaEBl3N+QWVRZnpGiYIG\
UN7Q0sJUFySn4JlXkpqj4JxfVJBflFiSmZ+np6DgmJOjAFZbrFCUWpxaVJaaoscFAMOEIIc=
compile_options=\
@eNrdUkFvgjAUvvMrmt4xuhkPREygIFaBNgIHdyGOlYxNKAE02b/fQ5Bp9LBktzVN2vf1ey+v3/d8\
Waj5/lOk2UEgWTaZLGpNqZsqS5q4OhZvWRWfRJWlXzqeYAWuNVDgPhqPIVYI87iGcF5mSYJU2PJS\
ZSSRagXcJnD4lm1GDlJpXYoEuE2WC4CjwI5NSpwgNEx90gNBZEJRb4iXZEdcOxhiJ9h2ZNNlZEMY\
38Uhde2Y6s9P9+han96DG30ya1EW+ZaxHfJn0ztw/YjZp7fNeJxCL0hNZSmKvEQqS/d1g0DSKnnX\
i32TnQQaVqdHzLjte/wCzmt5rBKxwArRECF6p2UXMXPNeKjjG2GxAooTHi1dwwng7Vbk86tp+2QV\
Xwj/U3WsMA2BOtSjLzb8srfgDJMr/IEjWHGpvxnGtvPmVxbO5euHSJp60WYc8h9nB3cQOlvnWoOR\
f2gTCnlGuIpdarZGHvK+NovaobiaiG9u9BRJ
exehash=1b7afab1531c58a083e490c8fe7ee586bb9a2bcd9c8774348496b9201759525e

634.hpgmgfv_s=base=sng-funneled_omp:
# Last updated 2025-08-27 10:37:30
opthash=18a00a2cb5f3e3957a5cb834d40f8618d6ebc75f2ef3da9b9ad091d2e8703bfa
baggage=
compiler_version=\
@eNpTcHaOD3MNCvb094v3DwgBUlZcmcnJChqezs6aCkYGRoZ6JnoGYIaBpaEBl3N+QWVRZnpGiYIG\
UN7Q0sJUFySn4JlXkpqj4JxfVJBflFiSmZ+np6DgmJOjAFZbrFCUWpxaVJaaoscFAMOEIIc=
compile_options=\
@eNrdUk1vgkAQvfMrNnvHaGs8EDGBZcVVYDcCB3shlkJKKywBNOm/7yBINXpo0ls3m+zMm4/Mvjee\
LNR8/5mk2SFBsmwyWdSaUjdVFjdRdSzesio6JVWWful4ghUwa0gBezQeg68Q7goN4bzM4hipcOWl\
y0gi1fIFJfB4FjVDG4zQp5HJiO0HhqlPesAPTWjjDv6S7IhD/cG3/W2XbDqcbAgXuyhgDo2Y/vx0\
j6716T240SezFuWhZxnboX42vQPXjzL78nYYV7B2FlaXSQy/brI8QUhNZZkUeYlUnu7rBgGlVfyu\
F/smO0H4cjo+Ii6o54oLOK/lsYqTBVaIhgjROy47j5trLgId3xCLFWCciHDpGLYPsVuSz1GTemQV\
DQn/knWscA0BO8xlLxR+2UtwhskV/kARrDjM2wxr22nzKwnn8vUjiZt60VYc8h9lB3UQOkvnWIOQ\
fxgTGrlGsIocZrZCHvK+Nw/bpbjaiG9DIhRJ
exehash=1b7afab1531c58a083e490c8fe7ee586bb9a2bcd9c8774348496b9201759525e

734.hpgmgfv_m=base=sng-funneled_omp:
# Last updated 2025-08-27 10:38:08
opthash=2818b1acca82b44f54f20601d1a6e90bab4acf66034934243b24ccd04dadb08f
baggage=
compiler_version=\
@eNpTcHaOD3MNCvb094v3DwgBUlZcmcnJChqezs6aCkYGRoZ6JnoGYIaBpaEBl3N+QWVRZnpGiYIG\
UN7Q0sJUFySn4JlXkpqj4JxfVJBflFiSmZ+np6DgmJOjAFZbrFCUWpxaVJaaoscFAMOEIIc=
compile_options=\
@eNrdUkFvgjAUvvMrmt4xuhkPREygIFaBNgIHdyGOlYxNKAE02b/fQ5Bp9LBktzVN2vf1ey+v3/d8\
Waj5/lOk2UEgWTaZLGpNqZsqS5q4OhZvWRWfRJWlXzqeYAWuNVDgPhqPIVYI87iGcF5mSYJU2PJS\
ZSSRagXcJnD4lm1GDlJpXYoEuE2WC4CjwI5NSpwgNEx90gNBZEJRb4iXZEdcOxhiJ9h2ZNNlZEMY\
38Uhde2Y6s9P9+han96DG30ya1EW+ZaxHfJn0ztw/YjZp7fNeJxCL0hNZSmKvEQqS/d1g0DSKnnX\
i32TnQQaVqdHzLjte/wCzmt5rBKxwArRECF6p2UXMXPNeKjjG2GxAooTHi1dwwng7Vbk86tp+2QV\
Xwj/U3WsMA2BOtSjLzb8srfgDJMr/IEjWHGpvxnGtvPmVxbO5euHSJp60WYc8h9nB3cQOlvnWoOR\
f2gTCnlGuIpdarZGHvK+NovaobiaiG9u9BRJ
exehash=1b7afab1531c58a083e490c8fe7ee586bb9a2bcd9c8774348496b9201759525e

